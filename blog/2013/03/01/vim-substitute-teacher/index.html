
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>VIM: Substitute Teacher - Something Witty</title>
  <meta name="author" content="Luis R. Piloto">

  
  <meta name="description" content="When people learn vim it’s pretty common to learn search and replace, typically
taught in this form:
:%s/food/ramen noodles, again/g
This will search &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ElPiloto.github.io/blog/2013/03/01/vim-substitute-teacher/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Something Witty" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Dosis:400,500,700&subset=latin,latin-ext' rel='stylesheet' type='text/css'>

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Something Witty</a></h1>
  
    <h2>Throwin' down more codes than Hammurabi</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ElPiloto.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">VIM: Substitute Teacher</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-01T00:00:00-05:00" pubdate data-updated="true">Mar 1<span>st</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>When people learn vim it’s pretty common to learn search and replace, typically
taught in this form:
:%s/food/ramen noodles, again/g
This will search through the entire file and replace the phrase food with ramen
noodles, again. Â People even go as far as to learn the following variant which
asks for confirmation before replacing each instance:
:%s/food/ramen noodles, again/gc
Some people might even know that the g at the end tells vim to replace every
instance on a line (omitting the g tells vim to replace only the first
occurrence on each line). However,Â what people often don’t learn is how truly
customizable this command is.</p>

<h1>1 Crouching Tiger, Hidden Feature:Â You can use (almost) any character as a</h1>

<p>delimiter.
I always thought you had to use / as the delimiter, but it turns out you can
use any character (except for space and alphanumeric characters). Â So we could
do the following in place of the above: Â  Â Â </p>

<pre><code>* :%s+food+ramen noodles, again+g
  Â  Â  Â  Â  Â  Â  Â  Â  Â OR
* :%s|food|ramen noodles, again|g
</code></pre>

<p>Why would we want to use this? Â Well, if you ever wanted to use / as part of
your search or replace expressions, you would have to escape it using vim’s
escape character (backslash) . Â Let’s assume we want to replace each instance
of / with ./ To accomplish that, we’d have to do the following if we stuck with
the default delimiter:</p>

<pre><code>* :%s/\//.\//g
</code></pre>

<p>However, if we used an alternative delimiter, such asÂ @ we would have an
expression which is much easier to use, read, and type:</p>

<pre><code>* :%s@/@./@g
</code></pre>

<p>No escaping needed, tada!</p>

<h1>2 That’s Not a Bug, That’s a Feature: You don’t always have to include a</h1>

<p>search pattern!
Let’s say you previously looked for &ldquo;a_good_time&rdquo; using this command:</p>

<pre><code>* /a_good_time
</code></pre>

<p>And after some time you decide you want to replace it with something more
specific, you could use the following command:</p>

<pre><code>* :%s//coke_and_hookers/g
  Â  Â  Â  Â  Â  Â  Â  Â  Â OR equivalently
* :%s^^coke_and_hookers^g
</code></pre>

<p>When you don’t specify a search expression in the substitute command, vim
automatically uses the last value you searched (or substituted for) as the
search expression!</p>

<h1>3_The_Feature_Is_In_Your_Hands:Â You can manipulate the range on which</h1>

<p>substitutions take place!
The generic version of substitute uses % as the range, which means the entire
file, but vim allows much more flexibity in specifying the range. Â How do we
specify ranges? Â Quite intuitively! Ranges can be specified from a starting
point to an ending point, thus the only thing to really learn is to specify
these points. Â They are as follows:</p>

<pre><code>* . Â the current line number
* $ the last line in the file
* % the entire file
* any number specifies that line number in the file
* ‘t would specify the location of marker t (markers are a way of marking
  locations in the file so you can return to them later)
* /some_pattern would go to the next line where we find the string
  “some_pattern"
* ?some_pattern would go to the previous line where we find the string
  “some_pattern"
</code></pre>

<p>You specify ranges as points separated by a comma. Â Here are some example
ranges as used in a substitution command:</p>

<pre><code>* :1,3s/hello/goodbye/g - this would replace all instances of hello with
  goodbye on lines 1-3 of our file
* :1,$s/hello/goodbye/g - this would search through the entire file Note
  that 1,$ is equivalent to %
* :1,.s/hello/goodbye/g - this would search from the beginning of our file
  to the current line
* :.,/aloha/s/hello/goodbye/g - this would search from the current line to
  the first line after the current line containingÂ alohaÂ in it and
  replace hello with goodbye
</code></pre>

<p>Note: If you specify a range that goes backwards, vim will prompt you to
reverse the order.
And there you have it! Now you can be pickier with your substitutions than a
vegan on an airplane. Â Next on your to do list should be learning vim regular
expressions, specifically escape characters and quantifiers (for advanced
searching) and grouping and backreferences (for advanced replacing).</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Luis R. Piloto</span></span>

      








  


<time datetime="2013-03-01T00:00:00-05:00" pubdate data-updated="true">Mar 1<span>st</span>, 2013</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://ElPiloto.github.io/blog/2013/03/01/vim-substitute-teacher/" data-via="_elpiloto" data-counturl="http://ElPiloto.github.io/blog/2013/03/01/vim-substitute-teacher/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/01/09/vim-tips-difforig-aka-what-the-crap-changes-did-i-make/" title="Previous Post: VIM Tips: DiffOrig a.k.a. What the crap changes did I make?">&laquo; VIM Tips: DiffOrig a.k.a. What the crap changes did I make?</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/04/22/15-linux-bash-history-expansion-examples-you-should-know/" title="Next Post: 15 Linux Bash History Expansion Examples You Should Know">15 Linux Bash History Expansion Examples You Should Know &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/05/16/tmux-command-completion-at-bash-prompt/">Tmux command-completion at bash prompt!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/30/vim-tips-editing-macros-sessions-command-line-registers--a-new-register/">VIM Tips: Editing macros, sessions, command-line registers, & a new register!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/26/adding-tab-completion-for-your-bash-scripts/">Adding tab completion for your bash scripts</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/22/15-linux-bash-history-expansion-examples-you-should-know/">15 Linux Bash History Expansion Examples You Should Know</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/01/vim-substitute-teacher/">VIM: Substitute Teacher</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/ElPiloto">@ElPiloto</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'ElPiloto',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/Luis.r.piloto@gmail.com?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Luis R. Piloto -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
